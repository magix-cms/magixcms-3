!function(){function f(){return d.tinymce}var p,c,u,s=[],d="undefined"!=typeof global?global:window,m=d.jQuery;m.fn.tinymce=function(o){var e,t,i,n,l=this,r="";return l.length?o?(l.css("visibility","hidden"),d.tinymce||c||!(e=o.script_url)?1===c?s.push(a):a():(c=1,t=e.substring(0,e.lastIndexOf("/")),-1!=e.indexOf(".min")&&(r=".min"),d.tinymce=d.tinyMCEPreInit||{base:t,suffix:r},-1!=e.indexOf("gzip")&&(i=o.language||"en",e=e+(/\?/.test(e)?"&":"?")+"js=true&core=true&suffix="+escape(r)+"&themes="+escape(o.theme||"modern")+"&plugins="+escape(o.plugins||"")+"&languages="+(i||""),d.tinyMCE_GZ||(d.tinyMCE_GZ={start:function(){function n(e){f().ScriptLoader.markDone(f().baseURI.toAbsolute(e))}n("langs/"+i+".js"),n("themes/"+o.theme+"/theme"+r+".js"),n("themes/"+o.theme+"/langs/"+i+".js"),m.each(o.plugins.split(","),(function(e,t){t&&(n("plugins/"+t+"/plugin"+r+".js"),n("plugins/"+t+"/langs/"+i+".js"))}))},end:function(){}})),(n=document.createElement("script")).type="text/javascript",n.onload=n.onreadystatechange=function(e){e=e||window.event,2===c||"load"!=e.type&&!/complete|loaded/.test(n.readyState)||(f().dom.Event.domLoaded=1,c=2,o.script_loaded&&o.script_loaded(),a(),m.each(s,(function(e,t){t()})))},n.src=e,document.body.appendChild(n)),l):f()?f().get(l[0].id):null:l;function a(){var a=[],c=0;u||(v(),u=!0),l.each((function(e,t){var n,i=t.id,r=o.oninit;i||(t.id=i=f().DOM.uniqueId()),f().get(i)||(n=f().createEditor(i,o),a.push(n),n.on("init",(function(){var e,t=r;l.css("visibility",""),r&&++c==a.length&&("string"==typeof t&&(e=-1===t.indexOf(".")?null:f().resolve(t.replace(/\.\w+$/,"")),t=f().resolve(t)),t.apply(e||f(),a))})))})),m.each(a,(function(e,t){t.render()}))}},m.extend(m.expr[":"],{tinymce:function(e){var t;return!!(e.id&&"tinymce"in d&&(t=f().get(e.id))&&t.editorManager===f())}});var v=function(){function r(e){"remove"===e&&this.each((function(e,t){var n=u(t);n&&n.remove()})),this.find("span.mceEditor,div.mceEditor").each((function(e,t){var n=f().get(t.id.replace(/_parent$/,""));n&&n.remove()}))}function o(i){var e,t=this;if(null!=i)r.call(t),t.each((function(e,t){var n;(n=f().get(t.id))&&n.setContent(i)}));else if(0<t.length&&(e=f().get(t[0].id)))return e.getContent()}function l(e){return e&&e.length&&d.tinymce&&e.is(":tinymce")}var u=function(e){var t=null;return e&&e.id&&d.tinymce?f().get(e.id):t},s={};m.each(["text","html","val"],(function(e,t){var a=s[t]=m.fn[t],c="text"===t;m.fn[t]=function(e){var t=this;if(!l(t))return a.apply(t,arguments);if(e!==p)return o.call(t.filter(":tinymce"),e),a.apply(t.not(":tinymce"),arguments),t;var i="",r=arguments;return(c?t:t.eq(0)).each((function(e,t){var n=u(t);i+=n?c?n.getContent().replace(/<(?:"[^"]*"|'[^']*'|[^'">])*>/g,""):n.getContent({save:!0}):a.apply(m(t),r)})),i}})),m.each(["append","prepend"],(function(e,t){var n=s[t]=m.fn[t],r="prepend"===t;m.fn[t]=function(i){var e=this;return l(e)?i!==p?("string"==typeof i&&e.filter(":tinymce").each((function(e,t){var n=u(t);n&&n.setContent(r?i+n.getContent():n.getContent()+i)})),n.apply(e.not(":tinymce"),arguments),e):void 0:n.apply(e,arguments)}})),m.each(["remove","replaceWith","replaceAll","empty"],(function(e,t){var n=s[t]=m.fn[t];m.fn[t]=function(){return r.call(this,t),n.apply(this,arguments)}})),s.attr=m.fn.attr,m.fn.attr=function(e,t){var n=this,i=arguments;if(!e||"value"!==e||!l(n))return s.attr.apply(n,i);if(t!==p)return o.call(n.filter(":tinymce"),t),s.attr.apply(n.not(":tinymce"),i),n;var r=n[0],a=u(r);return a?a.getContent({save:!0}):s.attr.apply(m(r),i)}}}();