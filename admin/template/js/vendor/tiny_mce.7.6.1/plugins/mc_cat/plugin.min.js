tinymce.PluginManager.requireLangPack("mc_cat");tinymce.PluginManager.add("mc_cat",(function(editor,url){const _=text=>editor.translate(text);const iconPath=typeof baseadmin!=="undefined"?"/"+baseadmin+"/template/img/tinymce/mc_icons.svg#category":url+"/img/mc_icons.svg#category";editor.ui.registry.addIcon("category",`<svg width="24" height="24"><use xlink:href="${iconPath}"></use></svg>`);const showDialog=()=>{editor.windowManager.openUrl({title:_("mc_cat Title"),url:tinymce.baseURL+"/plugins/mc_cat/cat.php",width:800,height:550})};editor.ui.registry.addButton("mc_cat",{icon:"category",tooltip:_("mc_cat Tooltip"),onAction:showDialog,onSetup:api=>{const nodeChangeHandler=e=>api.setEnabled(e.element.nodeName!=="IMG");editor.on("NodeChange",nodeChangeHandler);return()=>editor.off("NodeChange",nodeChangeHandler)}});editor.ui.registry.addMenuItem("mc_cat",{icon:"category",text:_("mc_cat Title"),onAction:showDialog})}));