tinymce.PluginManager.requireLangPack("mc_news");tinymce.PluginManager.add("mc_news",(function(editor,url){const _=text=>editor.translate(text);const iconPath=typeof baseadmin!=="undefined"?"/"+baseadmin+"/template/img/tinymce/mc_icons.svg#news":url+"/img/mc_icons.svg#news";editor.ui.registry.addIcon("news",`<svg width="24" height="24"><use xlink:href="${iconPath}"></use></svg>`);const showDialog=()=>{editor.windowManager.openUrl({title:_("mc_news Title"),url:tinymce.baseURL+"/plugins/mc_news/news.php",width:800,height:550})};editor.ui.registry.addButton("mc_news",{icon:"news",tooltip:_("mc_news Tooltip"),onAction:showDialog,onSetup:buttonApi=>{const nodeChangeHandler=eventApi=>{buttonApi.setEnabled(eventApi.element.nodeName!=="IMG")};editor.on("NodeChange",nodeChangeHandler);return()=>editor.off("NodeChange",nodeChangeHandler)}});editor.ui.registry.addMenuItem("mc_news",{icon:"news",text:_("mc_news Title"),onAction:showDialog})}));