tinymce.PluginManager.requireLangPack("mc_product");tinymce.PluginManager.add("mc_product",(function(editor,url){const _=text=>editor.translate(text);const iconPath=typeof baseadmin!=="undefined"?"/"+baseadmin+"/template/img/tinymce/mc_icons.svg#product":url+"/img/mc_icons.svg#product";editor.ui.registry.addIcon("product",`<svg width="24" height="24"><use xlink:href="${iconPath}"></use></svg>`);const showDialog=()=>{editor.windowManager.openUrl({title:_("mc_product Title"),url:tinymce.baseURL+"/plugins/mc_product/product.php",width:800,height:550})};editor.ui.registry.addButton("mc_product",{icon:"product",tooltip:_("mc_product Tooltip"),onAction:showDialog,onSetup:api=>{const nodeChangeHandler=e=>api.setEnabled(e.element.nodeName!=="IMG");editor.on("NodeChange",nodeChangeHandler);return()=>editor.off("NodeChange",nodeChangeHandler)}});editor.ui.registry.addMenuItem("mc_product",{icon:"product",text:_("mc_product Title"),onAction:showDialog})}));